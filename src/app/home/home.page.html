<ion-header>
  <ion-toolbar>
     <ion-buttons slot="start">
      <ion-menu-button *ngIf="userData.type">
        <ion-icon
          src="../../assets/images/menu.svg"
        ></ion-icon>
      </ion-menu-button>
    </ion-buttons>
    <ion-title>Home</ion-title>
    <ion-buttons slot="end" *ngIf="userData.type==2 || userData.type==3">
      <ion-button class="notification" routerLink="/notification">
        <ng-container *ngIf="notifiction.length>0;else notiBlock">
          <ion-img src="../../assets/images/notification.svg"></ion-img>
        </ng-container>
        <ng-template #notiBlock>
          <ion-img src="../../assets/images/bell.png"></ion-img>
        </ng-template>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="home">

    <div class="home_slider">
      <ion-slides pager="true" [options]="homeSlide">
        <ion-slide *ngFor = "let banner of bannerList">
          <div class="slider_content" style="background: url({{baseImageUrl+banner.image}}) center no-repeat;">
            <!-- <h1>{{banner.title}}</h1>
            <p>{{banner.short_desc}}</p> -->
          </div>
        </ion-slide>
        <!-- <ion-slide>
          <div class="slider_content" style="background: url(../../assets/images/rm405-a02d-mockup_1.jpg) center no-repeat;">
            <h1>Mayur Synthetic Enamel</h1>
            <p>is a Economical used in Home & Factory for protective coverage against rusting.</p>
          </div>
        </ion-slide>
        <ion-slide>
          <div class="slider_content" style="background: url(../../assets/images/home-slider-bg.jpg) center no-repeat;">
            <h1>Mayur Synthetic Enamel</h1>
            <p>is a Economical used in Home & Factory for protective coverage against rusting.</p>
          </div>
        </ion-slide> -->
      </ion-slides>
    </div>

    <h3 class="page_title" *ngIf="userData.type==1">Your Rewards Points</h3>

    <div class="reward_container" *ngIf="userData.type==1">
      <ng-container >
        <ion-img src="../../assets/images/coins.png"></ion-img>
        <div>
        <ng-container  *ngIf="userPoints!=0;else rewardBlock">
          <span>Your Reward Point</span><h2>{{userPoints}}</h2>
        </ng-container>
        <ng-template #rewardBlock>
          <h3 class="reward_title">You have no points in your wallet</h3>
        </ng-template>

        <div>
          <ion-button (click)="goToGiftPage()" *ngIf="userPoints!=0">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" width="512" height="512" x="0" y="0" viewBox="0 0 24 24" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path fill="#000000" fill-rule="evenodd" d="M10 1.25a2.75 2.75 0 0 0-2.45 4H4.5a3.25 3.25 0 0 0-2.272 5.574c-.015.357-.006.703.004 1.125.009.335.018.718.018 1.194v.027c0 1.197 0 2.133.05 2.888.05.766.152 1.4.383 1.984.578 1.462 1.69 2.634 3.105 3.247.57.247 1.185.356 1.923.41.724.051 1.62.051 2.76.051h3.058c1.14 0 2.036 0 2.76-.052.738-.053 1.354-.162 1.923-.409 1.414-.613 2.527-1.785 3.105-3.247.231-.584.334-1.218.384-1.984.049-.755.049-1.69.049-2.888v-.056c0-1.088 0-1.639-.037-2.233A3.25 3.25 0 0 0 19.5 5.25h-3.05A2.75 2.75 0 0 0 12 2.113a2.742 2.742 0 0 0-2-.864zm0 1.5c.69 0 1.25.56 1.25 1.25v1.25H10a1.25 1.25 0 1 1 0-2.5zM15.25 4c0 .69-.56 1.25-1.25 1.25h-1.25V4a1.25 1.25 0 1 1 2.5 0zM2.75 8.5c0-.967.783-1.75 1.75-1.75h6.75v3.5H4.5A1.747 1.747 0 0 1 2.75 8.5zm18.5 0a1.75 1.75 0 0 0-1.75-1.75h-6.75v3.5h6.75a1.747 1.747 0 0 0 1.75-1.75zM3.726 11.657c.248.06.508.093.774.093h6.75v8.5h-.75c-1.176 0-2.018 0-2.682-.048-.657-.047-1.083-.137-1.433-.289-1.036-.45-1.87-1.317-2.307-2.422-.15-.378-.237-.836-.282-1.53-.046-.701-.046-1.588-.046-2.818 0-.599-.011-1.015-.02-1.347zm9.024.093v8.5h.75c1.176 0 2.018 0 2.682-.048.657-.047 1.083-.137 1.433-.289 1.036-.45 1.87-1.317 2.307-2.422.15-.378.237-.836.282-1.53.046-.701.046-1.588.046-2.818 0-.66 0-1.11-.007-1.478a3.26 3.26 0 0 1-.743.085z" clip-rule="evenodd" data-original="#000000" class=""></path></g></svg>
            Redeem Now
          </ion-button>
  
          <ion-button (click)="goToCashForm()" *ngIf="userPoints!=0">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" width="512" height="512" x="0" y="0" viewBox="0 0 24 24" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><g fill="#000" fill-rule="evenodd" clip-rule="evenodd"><path d="M3.602 16.11a.75.75 0 0 1 .75.75c0 1.161 1.102 2.19 2.83 2.19 1.714 0 2.82-1.036 2.82-2.19a.75.75 0 1 1 1.5 0v2.03c0 2.229-2.037 3.86-4.32 3.86-2.28 0-4.33-1.629-4.33-3.86v-2.03a.75.75 0 0 1 .75-.75zm1.003 3.746c.43.791 1.375 1.394 2.577 1.394s2.144-.604 2.57-1.399c-.74.452-1.643.7-2.57.7-.93 0-1.836-.245-2.577-.695z" fill="#000000" data-original="#000000" class=""></path><path d="M7.16 11.76c-.819 0-1.53.28-2.036.724-.5.438-.784 1.01-.784 1.626 0 .354.098.68.27.97.428.693 1.366 1.22 2.56 1.22 1.198 0 2.133-.52 2.558-1.218.174-.29.272-.617.272-.972 0-.617-.285-1.193-.79-1.614l-.01-.008c-.511-.441-1.227-.728-2.04-.728zm-3.025-.404c.795-.697 1.863-1.096 3.025-1.096 1.164 0 2.227.41 3.015 1.088.812.678 1.325 1.66 1.325 2.762 0 .644-.181 1.236-.487 1.746l-.002.004C10.255 17.1 8.77 17.8 7.17 17.8c-1.605 0-3.086-.711-3.84-1.938l-.003-.006a3.373 3.373 0 0 1-.487-1.746c0-1.105.516-2.072 1.296-2.755l.494.565z" fill="#000000" data-original="#000000" class=""></path><path d="M7.182 11.75c-1.669 0-2.83 1.15-2.83 2.36v2.75c0 1.15 1.112 2.19 2.83 2.19 1.716 0 2.82-1.028 2.82-2.19v-2.75c0-.617-.286-1.198-.782-1.634-.512-.44-1.226-.726-2.038-.726zm-4.33 2.36c0-2.23 2.038-3.86 4.33-3.86 1.166 0 2.23.413 3.02 1.092l.004.003c.782.685 1.296 1.663 1.296 2.765v2.75c0 2.278-2.097 3.69-4.32 3.69-2.223 0-4.33-1.42-4.33-3.69zM18.92 10.7c-.359 0-.675.14-.902.373l-.014.014c-.266.26-.415.63-.377 1.022v.009c.054.635.664 1.182 1.413 1.182h1.943a.276.276 0 0 0 .267-.27v-2.06a.276.276 0 0 0-.267-.27zm-1.97-.68a2.743 2.743 0 0 1 1.97-.82h2.107a1.777 1.777 0 0 1 1.723 1.77v2.06A1.777 1.777 0 0 1 21 14.8h-1.96c-1.41 0-2.777-1.03-2.907-2.553a2.759 2.759 0 0 1 .816-2.227z" fill="#000000" data-original="#000000" class=""></path><path d="M7 4.25c-.244 0-.476.017-.696.051l-.02.003c-1.108.14-1.978.613-2.574 1.313-.598.7-.96 1.676-.96 2.883v2a.75.75 0 0 1-1.5 0v-2c0-1.513.458-2.848 1.318-3.857.86-1.008 2.08-1.643 3.518-1.826.297-.045.602-.067.914-.067h9c.27 0 .56.01.855.057 1.45.173 2.685.804 3.555 1.813.873 1.012 1.34 2.355 1.34 3.88v1.45a.75.75 0 0 1-.75.75h-2.08c-.36 0-.675.14-.903.373l-.013.014c-.266.26-.415.63-.377 1.022v.009c.053.635.664 1.182 1.413 1.182H21a.75.75 0 0 1 .75.75v1.45c0 1.67-.56 3.12-1.595 4.155S17.67 21.25 16 21.25h-2.5a.75.75 0 0 1 0-1.5H16c1.33 0 2.38-.44 3.095-1.155S20.25 16.83 20.25 15.5v-.7h-1.21c-1.41 0-2.778-1.03-2.907-2.553a2.758 2.758 0 0 1 .816-2.227 2.743 2.743 0 0 1 1.971-.82h1.33v-.7c0-1.215-.368-2.197-.975-2.9-.606-.702-1.49-1.175-2.612-1.305A3.849 3.849 0 0 0 16 4.25z" fill="#000000" data-original="#000000" class=""></path></g></g></svg>
            Withdrawal Cash
          </ion-button>
        </div>
      </div>
      </ng-container>
     
      
    </div>

    <h3 class="page_title">Our Products</h3>

    <div class="category_wrapper">
      <ul>
        <ng-container *ngFor="let category of categoryList">
          <li routerLink="/product/{{category.id}}">
            <img src="{{baseImageUrl+category.image}}" alt="" srcset="">
            <p>{{category.name}}</p>
          </li>
        </ng-container>
        <!-- <li routerLink="/product" style="background-image: url(../../assets/images/home-product-2.jpg);">
          <p>Water based Product</p>
        </li>
        <li routerLink="/product" style="background-image: url(../../assets/images/home-product-3.jpg);">
          <p>Power Products</p>
        </li>
        <li routerLink="/product" style="background-image: url(../../assets/images/home-product-4.jpg);">
          <p>universal stainer</p>
        </li>
        <li routerLink="/product" style="background-image: url(../../assets/images/home-product-5.jpg);">
          <p>thinner</p>
        </li> -->
      </ul>
    </div>
    <ng-container *ngIf="userData.type==2">
      <div class="spacer"></div>
    </ng-container>

    <ng-container *ngIf="userData.type==1">
      <div class="qr_scan">
        <ion-img src="../../assets/images/qr-code.png"></ion-img>
        <p>Scan the QR code<br/>& earn reward</p>
        <button (click)="scanQRCode()">
          <ion-img src="../../assets/images/scanner.svg"></ion-img>
          Scan NOw
        </button>
      </div>

      <h3 class="page_title">Redeem your Rewards Points  <span routerLink="/gift" style="float: right;">All Gifts</span></h3>

      <div class="home_redeem_product">
        <!-- <h3>Redeem your Rewards Points <span routerLink="/product">View All</span></h3> -->
        <ion-slides pager="false" [options]="slideOpts">
          <ion-slide routerLink="/giftdetails/{{gift.id}}" *ngFor="let gift of top5GiftList">
            <div class="home_redeem_product_item">
              <div class="home_redeem_product_item_img">
                <img src="{{baseImageUrl+gift.image}}" alt="">
              </div>
              <div class="home_redeem_product_item_text">
                <h4>{{gift.name}}</h4>
                <span>{{gift.points}} Points  <img src="../../assets/images/arrow-right.png" alt=""></span>
              </div>
            </div>
          </ion-slide>
          
          <!-- <ion-slide routerLink="/productdetails">
            <div class="home_redeem_product_item">
              <div class="home_redeem_product_item_img">
                <img src="../../assets/images/7fdd3bda2076f7bdb2ed96e7ec01810a 1.png" alt="">
              </div>
              <div class="home_redeem_product_item_text">
                <h4>KGA Sandwitch maker</h4>
                <span>1500 Points  <img src="../../assets/images/arrow-right.png" alt=""></span>
              </div>
            </div>
          </ion-slide> -->
        </ion-slides>
      </div>

      <h3 class="page_title" *ngIf="lastHistory.length>0">Redeem History <span style="float: right;" routerLink="/history">All</span></h3>
     
      <div class="home_redeem_history" *ngFor="let history of lastHistory">
        <ion-item lines="none" class="home_redeem_history_item home_redeem_history_credit" *ngIf="history.status=='increment'">
          <ion-avatar class="home_redeem_history_item_icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 5V19" stroke="#65B869" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M5 12H19" stroke="#65B869" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </ion-avatar>
          <ion-label class="home_redeem_history_item_middle">
            <!-- <h4>12th January, 2022</h4> -->
            <h4>{{history.date}}</h4>
            <p>{{history.title}}</p>
            <p>{{history.desc}}</p>
          </ion-label>
          <ion-button>
            + {{history.amount}}
          </ion-button>
        </ion-item>
        <ion-item lines="none" class="home_redeem_history_item home_redeem_history_debit" *ngIf="history.status=='decrement'">
          <ion-avatar class="home_redeem_history_item_icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M5 12H19" stroke="#EA1C2C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </ion-avatar>
          <ion-label class="home_redeem_history_item_middle">
            <h4>{{history.date}}</h4>
            <p>{{history.title}}</p>
            <p>{{history.desc}}</p>
          </ion-label>
          <ion-button>
            - {{history.amount}}
          </ion-button>
        </ion-item>
      </div>
    </ng-container>
  </div>
  <ion-fab slot="fixed" vertical="bottom" horizontal="end" routerLink="/chat" *ngIf="userData.type==2">
    <ion-fab-button>
      <ion-img src="../../assets/images/chat.svg"></ion-img>
    </ion-fab-button>
  </ion-fab>
</ion-content>
